import React, { useEffect, useRef } from "react";

const YarnStroke = () => {
  const pathRef = useRef(null);

  useEffect(() => {
    const path = pathRef.current;
    const length = path.getTotalLength();

    // Set up the stroke dash properties
    path.style.strokeDasharray = length;
    path.style.strokeDashoffset = length;

    // Trigger animation
    path.style.animation = "drawLine 4s ease-in-out forwards";
  }, []);

  return (
    <svg
      width="520"
      height="139"
      viewBox="0 0 520 139"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-full h-auto"
    >
      <path
        ref={pathRef}
        d="M371.683 3.79333C374.344 3.14078 378.927 2.50217 383.843 3.07166C388.761 3.64154 394.206 5.44782 398.295 9.8783C402.41 14.3376 404.88 21.1597 404.413 31.1957C403.948 41.199 400.566 54.5375 392.834 72.2982C381.225 98.9652 358.928 114.019 336.009 121.439C345.847 126.395 357.272 130.078 370.523 131.784C449.572 141.959 503.331 124.979 517.185 118.797C518.193 118.347 519.376 118.8 519.826 119.809C520.276 120.817 519.824 121.999 518.815 122.45C504.304 128.925 449.805 146.022 370.013 135.751C354.644 133.773 341.588 129.21 330.535 123.064C318.125 126.433 305.717 127.683 294.842 127.421C283.768 127.155 274.143 125.318 267.688 122.452L267.479 122.343C254.868 114.852 240.911 103.51 222.515 98.0297C204.367 92.6239 181.917 93.0117 152.856 109.701C93.9466 143.532 28.7955 124.627 2.26172 110.388L1.02734 109.714L0.853516 109.606C0.0221559 109.026 -0.251541 107.898 0.251953 106.994C0.75555 106.089 1.85801 105.727 2.78906 106.128L2.97266 106.219L4.1748 106.875C30.0349 120.749 93.6204 139.106 150.864 106.232C180.802 89.039 204.381 88.4536 223.657 94.1957C242.63 99.8473 257.463 111.72 269.417 118.84C275.222 121.392 284.229 123.164 294.938 123.422C304.336 123.648 314.938 122.706 325.661 120.175C304.912 107.074 291.983 88.4042 284.259 72.1722C280.143 63.5226 277.49 55.5347 275.911 49.3939C275.122 46.3242 274.597 43.7016 274.293 41.6752C274.141 40.6631 274.043 39.7831 273.995 39.0609C273.95 38.3815 273.94 37.7097 274.025 37.1801C274.487 34.329 275.52 25.8706 280.174 18.1517C284.916 10.2871 293.379 3.24952 308.338 3.24939C318.572 3.24939 326.489 11.5094 332.205 21.1615C336.584 28.5564 339.926 37.1855 342.228 44.7806C344.889 37.1994 349.244 28.9768 353.864 21.9681C356.929 17.3188 360.157 13.1317 363.159 9.95935C364.66 8.37409 366.131 7.01275 367.523 5.96912C368.889 4.94525 370.304 4.13136 371.683 3.79333Z" 
        strokeWidth="4"
        strokeLinecap="round"
        strokeLinejoin="bevel"
        fill="none"
        stroke="#709814"
      />
    </svg>
  );
};

export default YarnStroke;